# ğŸ—ï¸ æ¶æ„æ£€æŸ¥æŠ¥å‘Š - Monorepo Tokens ä½¿ç”¨æƒ…å†µ

ç”Ÿæˆæ—¶é—´: 2026-01-23

---

## ğŸ“Š æ€»ä½“çŠ¶æ€

| é¡¹ç›® | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| **Tailwind é…ç½®** | âœ… å·²è¿ç§» | ä½¿ç”¨ TypeScript SEMANTIC_TOKENS |
| **ç»„ä»¶ä»£ç ** | âŒ æœªè¿ç§» | ä»ä½¿ç”¨ CSS å˜é‡ (129 å¤„) |
| **å¯¼å…¥ shared-theme** | ğŸŸ¡ éƒ¨åˆ†å®Œæˆ | 9 ä¸ªæ–‡ä»¶å·²å¯¼å…¥ |

---

## âœ… å·²æ­£ç¡®ä½¿ç”¨ Monorepo Tokens

### 1. Tailwind é…ç½®
- **æ–‡ä»¶**: `tailwind.config.ts`
- **çŠ¶æ€**: âœ… å®Œå…¨è¿ç§»
- **æ–¹å¼**: ç›´æ¥å¯¼å…¥ `SEMANTIC_TOKENS` å¯¹è±¡
- **ä¼˜åŠ¿**: ç±»å‹å®‰å…¨ã€è‡ªåŠ¨è¡¥å…¨ã€æ—  CSS å˜é‡

```typescript
import { SEMANTIC_TOKENS } from '../packages/shared-theme/src/tokens/semanticTokens';

colors: {
  border: SEMANTIC_TOKENS.color.border.subtle,  // âœ… ç›´æ¥å¼•ç”¨
  primary: SEMANTIC_TOKENS.color.button.primary.bg
}
```

---

## âŒ ä»åœ¨ä½¿ç”¨ CSS å˜é‡çš„ç»„ä»¶

### ç»Ÿè®¡æ•°æ®
- **æ€»è®¡**: 129 å¤„ CSS å˜é‡ä½¿ç”¨
- **æ¶‰åŠæ–‡ä»¶**: 14 ä¸ªç»„ä»¶
- **é—®é¢˜**: æœªä½¿ç”¨ monorepo çš„ SEMANTIC_TOKENS

### è¯¦ç»†åˆ—è¡¨

#### UI ç»„ä»¶ (6 ä¸ªæ–‡ä»¶)
1. **Toggle.tsx** - 3 å¤„
2. **Tabs.tsx** - 9 å¤„
3. **Slider.tsx** - 6 å¤„
4. **Panel.tsx** - 6 å¤„
5. **LinearTabs.tsx** - 5 å¤„
6. **Button.tsx** - 15 å¤„

#### Panel ç»„ä»¶ (3 ä¸ªæ–‡ä»¶)
7. **FoldTab.tsx** - 25 å¤„ âš ï¸ æœ€å¤š
8. **ExportTab.tsx** - 2 å¤„
9. **ControlPanel.tsx** - 2 å¤„

#### Layout ç»„ä»¶ (3 ä¸ªæ–‡ä»¶)
10. **StatusBar.tsx** - 5 å¤„
11. **MainLayout.tsx** - 7 å¤„
12. **FloatingToolbar.tsx** - 20 å¤„

#### Canvas ç»„ä»¶ (2 ä¸ªæ–‡ä»¶)
13. **ViewportArea.tsx** - 4 å¤„
14. **SpatialCanvas.tsx** - 20 å¤„

---

## ğŸ¯ å½“å‰æ¶æ„çŠ¶æ€

### æ··åˆæ¶æ„ (Hybrid)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Tailwind é…ç½®                      â”‚
â”‚   âœ… ä½¿ç”¨ SEMANTIC_TOKENS           â”‚
â”‚   (TypeScript å¯¹è±¡)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç»„ä»¶ä»£ç                            â”‚
â”‚   âŒ ä½¿ç”¨ CSS å˜é‡                  â”‚
â”‚   var(--xxx)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CSS æ–‡ä»¶ (index.css)              â”‚
â”‚   å®šä¹‰ CSS å˜é‡                      â”‚
â”‚   --p-space-1: 4px                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é—®é¢˜
- **ä¸ä¸€è‡´**: Tailwind ç”¨ TS å¯¹è±¡ï¼Œç»„ä»¶ç”¨ CSS å˜é‡
- **ç»´æŠ¤æˆæœ¬**: éœ€è¦åŒæ—¶ç»´æŠ¤ä¸¤å¥—ç³»ç»Ÿ
- **æ— ç±»å‹å®‰å…¨**: ç»„ä»¶ä¸­çš„ CSS å˜é‡æ— ç¼–è¯‘æ—¶æ£€æŸ¥

---

## ğŸ”§ å»ºè®®çš„è¿ç§»æ–¹æ¡ˆ

### ä¼˜å…ˆçº§æ’åº

#### é«˜ä¼˜å…ˆçº§ (ä½¿ç”¨æœ€å¤š)
1. FoldTab.tsx - 25 å¤„
2. FloatingToolbar.tsx - 20 å¤„
3. SpatialCanvas.tsx - 20 å¤„
4. Button.tsx - 15 å¤„

#### ä¸­ä¼˜å…ˆçº§
5. Tabs.tsx - 9 å¤„
6. MainLayout.tsx - 7 å¤„
7. Slider.tsx - 6 å¤„
8. Panel.tsx - 6 å¤„

#### ä½ä¼˜å…ˆçº§
9-14. å…¶ä½™ 6 ä¸ªæ–‡ä»¶ (2-5 å¤„)

---

## ğŸ“ è¿ç§»æ­¥éª¤ç¤ºä¾‹

### Before (CSS å˜é‡)
```typescript
// âŒ æ—§æ–¹å¼
<div style={{
  color: 'var(--fg-text-primary)',
  background: 'var(--bg-surface-primary)'
}}>
```

### After (SEMANTIC_TOKENS)
```typescript
// âœ… æ–°æ–¹å¼
import { SEMANTIC_TOKENS } from '@genki/shared-theme';

<div style={{
  color: SEMANTIC_TOKENS.color.text.primary,
  background: SEMANTIC_TOKENS.color.bg.surface
}}>
```

---

## ğŸ¯ ç›®æ ‡æ¶æ„

### å®Œå…¨ç»Ÿä¸€çš„ Monorepo Tokens

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   packages/shared-theme             â”‚
â”‚   SEMANTIC_TOKENS (å•ä¸€æ•°æ®æº)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“                   â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tailwindâ”‚      â”‚  ç»„ä»¶ä»£ç     â”‚
â”‚ é…ç½®    â”‚      â”‚  (ç›´æ¥å¼•ç”¨)  â”‚
â”‚ âœ…      â”‚      â”‚  âŒ â†’ âœ…    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ é¢„æœŸæ”¶ç›Š

è¿ç§»å®Œæˆåï¼š

1. âœ… **ç±»å‹å®‰å…¨** - ç¼–è¯‘æ—¶æ£€æŸ¥æ‰€æœ‰ token
2. âœ… **è‡ªåŠ¨è¡¥å…¨** - IDE æ™ºèƒ½æç¤º
3. âœ… **å•ä¸€æ•°æ®æº** - åªéœ€ç»´æŠ¤ä¸€å¤„
4. âœ… **æ›´å¥½çš„ DX** - å¼€å‘ä½“éªŒæå‡
5. âœ… **å‡å°‘é”™è¯¯** - é¿å…æ‹¼å†™é”™è¯¯

---

## ğŸ”— ç›¸å…³æ–‡ä»¶

- æ¶æ„åˆ†æ: `ARCHITECTURE_ANALYSIS.md`
- Tailwind é…ç½®: `tailwind.config.ts`
- Tokens æºç : `../packages/shared-theme/src/tokens/semanticTokens.ts`
- æ£€æµ‹è„šæœ¬: `scripts/detectCSSVars.cjs`
